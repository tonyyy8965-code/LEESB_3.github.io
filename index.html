<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ë©´ì ‘ í”¼ë“œë°± ì‹œìŠ¤í…œ | Professional Dashboard</title>
    <style>
        /*
        * Professional White-Tone Style CSS
        * íŠ¹ì§•: ë°ì€ ë°°ê²½, ê¹”ë”í•œ êµ¬ë¶„ì„ , ì „ë¬¸ì ì¸ ë”¥ ë¸”ë£¨ ê°•ì¡°ìƒ‰
        */
        :root {
            --color-light-bg: #f5f7fa; /* ë©”ì¸ ë°ì€ ë°°ê²½ */
            --color-surface: #ffffff; /* ì¹´ë“œ/íŒ¨ë„ ë°°ê²½ */
            --color-primary-blue: #007bff; /* ì „ë¬¸ì ì¸ ë”¥ ë¸”ë£¨ ê°•ì¡°ìƒ‰ */
            --color-text-dark: #333333; /* ì–´ë‘ìš´ í…ìŠ¤íŠ¸ */
            --color-text-sub: #6c757d; /* ì„œë¸Œ í…ìŠ¤íŠ¸ */
            --color-border-light: #e0e0e0;
            --color-success: #28a745;
            --color-warning: #ffc107;
            --color-error: #dc3545;
        }

        body {
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--color-light-bg);
            color: var(--color-text-dark);
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .app-container {
            width: 100%;
            max-width: 1300px;
            padding: 40px 20px;
            display: grid;
            grid-template-columns: 1fr 2fr; /* ì…ë ¥ í¼:ê²°ê³¼ ì˜ì—­ = 1:2 ë¹„ìœ¨ë¡œ ì „ë¬¸ì„± ê°•ì¡° */
            gap: 30px;
        }

        header {
            grid-column: 1 / -1;
            padding-bottom: 25px;
            border-bottom: 3px solid var(--color-primary-blue);
            margin-bottom: 20px;
        }

        h1 {
            font-size: 2.2em;
            color: var(--color-primary-blue);
            margin: 0;
        }

        /* ê³µí†µ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background-color: var(--color-surface);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--color-border-light);
        }

        h2 {
            font-size: 1.4em;
            margin-top: 0;
            color: var(--color-text-dark);
            border-bottom: 1px solid var(--color-border-light);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        /* í¼ ìš”ì†Œ ìŠ¤íƒ€ì¼ */
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600; /* ì„¸ë¯¸ ë³¼ë“œ */
            color: var(--color-text-dark);
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--color-border-light);
            border-radius: 4px;
            box-sizing: border-box;
            background-color: #fcfcfc;
            color: var(--color-text-dark);
            font-size: 1em;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        input[type="text"]:focus, textarea:focus {
            border-color: var(--color-primary-blue);
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1);
            outline: none;
        }

        textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #submitButton {
            width: 100%;
            padding: 14px;
            background-color: var(--color-primary-blue);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.05em;
            font-weight: bold;
            transition: background-color 0.2s, box-shadow 0.2s;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
        }

        #submitButton:hover:not(:disabled) {
            background-color: #0056b3;
        }

        #submitButton:disabled {
            background-color: #a0c9f5;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* ê²°ê³¼ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        .result-section {
            display: flex;
            flex-direction: column;
        }

        #loading {
            text-align: center;
            padding: 20px;
            color: var(--color-primary-blue);
            font-size: 1.1em;
            font-weight: 500;
            display: none;
        }

        #feedback-output {
            flex-grow: 1; /* ë‚¨ì€ ê³µê°„ì„ ì±„ìš°ë„ë¡ ì„¤ì • */
        }

        .feedback-item {
            margin-bottom: 20px;
            padding: 15px;
            border-left: 4px solid var(--color-primary-blue);
            background-color: #f7f9fc;
            border-radius: 4px;
        }

        .feedback-item strong {
            display: block;
            font-size: 1.1em;
            color: var(--color-text-dark);
            margin-bottom: 5px;
            border-bottom: 1px dashed var(--color-border-light);
            padding-bottom: 5px;
        }
        
        .feedback-item .score {
            font-size: 1.4em;
            color: var(--color-success); /* ì ìˆ˜ëŠ” ì„±ê³µ(ë…¹ìƒ‰) ê°•ì¡° */
            font-weight: 700;
        }

        .error {
            color: var(--color-error);
            font-weight: bold;
        }

        pre {
            background: #f7f7f7;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            border: 1px solid var(--color-border-light);
            color: #495057;
            font-size: 0.9em;
        }

    </style>
</head>
<body>

<div class="app-container">
    <header>
        <h1>ğŸ’ Gemini Interview Analysis Dashboard</h1>
        <p style="color: var(--color-text-sub); margin: 5px 0 0;">ì „ë¬¸ì ì¸ AI ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ë‹µë³€ì˜ í’ˆì§ˆì„ ì‹¬ì¸µ ë¶„ì„í•©ë‹ˆë‹¤.</p>
    </header>

    <div class="card input-section">
        <h2>ë°ì´í„° ì…ë ¥</h2>
        <form id="feedbackForm">
            <label for="company">ì§€ì› íšŒì‚¬</label>
            <input type="text" id="company" value="Tesla" required>

            <label for="role">ì§€ì› ì§ë¬´</label>
            <input type="text" id="role" value="ë¨¸ì‹ ëŸ¬ë‹ ì—”ì§€ë‹ˆì–´" required>

            <label for="question">ìê¸°ì†Œê°œì„œ ë¬¸í•­ / ë©´ì ‘ ì§ˆë¬¸</label>
            <textarea id="question" required>Transformer ëª¨ë¸ì˜ Self-Attention ë©”ì»¤ë‹ˆì¦˜ì„ ì„¤ëª…í•˜ê³ , ì™œ RNNë³´ë‹¤ ìš°ìˆ˜í•œì§€ ë¹„êµ ì„¤ëª…í•´ì£¼ì„¸ìš”.</textarea>

            <label for="answer">ë‚˜ì˜ ë‹µë³€</label>
            <textarea id="answer" required>Self-Attentionì€ ì‹œí€€ìŠ¤ ë‚´ì˜ ëª¨ë“  ë‹¨ì–´ ìŒ ê°„ì˜ ê´€ê³„ë¥¼ í•œ ë²ˆì— ê³„ì‚°í•˜ì—¬ ì¤‘ìš”ë„ë¥¼ íŒë‹¨í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. RNNì€ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë³‘ë ¬í™”ê°€ ì–´ë µê³  ì¥ê¸° ì˜ì¡´ì„± ë¬¸ì œê°€ ìˆì§€ë§Œ, íŠ¸ëœìŠ¤í¬ë¨¸ëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.</textarea>

            <button type="submit" id="submitButton">
                ğŸ“ˆ ë¶„ì„ ìš”ì²­ ë° í”¼ë“œë°± ìƒì„±
            </button>
        </form>
    </div>

    <div class="card result-section">
        <h2>AI ë¶„ì„ ê²°ê³¼ ë° ë³´ê³ ì„œ</h2>
        
        <div id="loading">... ë°ì´í„° ì „ì†¡ ì¤‘ | AI ëª¨ë¸ ì²˜ë¦¬ ì¤‘ ...</div>

        <div id="feedback-output">
            <div class="feedback-item">
                <p style="color: var(--color-text-sub);">ì™¼ìª½ ì…ë ¥ í¼ì— ì •ë³´ë¥¼ ê¸°ì… í›„, ë¶„ì„ ìš”ì²­ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì „ë¬¸ ë³´ê³ ì„œë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
            </div>
        </div>
        
        <h3 style="margin-top: 30px; color: var(--color-text-sub); font-size: 1.1em; border-bottom: 1px solid var(--color-border-light); padding-bottom: 5px;">API ì›ë³¸ JSON ë°ì´í„°</h3>
        <pre id="raw-json-output">ê²°ê³¼ ëŒ€ê¸° ì¤‘...</pre>
    </div>
</div>

<script>
    // ğŸ’¡ í•µì‹¬ ìš”êµ¬ ì‚¬í•­: API ì„œë²„ì˜ ì£¼ì†Œë¥¼ ë‹´ëŠ” ìƒìˆ˜
    const SERVER_URL = 'https://dd626e14-459a-44be-acc0-de7206ad3160-00-20gy5cnibptjp.sisko.replit.dev'; 

    const form = document.getElementById('feedbackForm');
    const loadingDiv = document.getElementById('loading');
    const feedbackOutputDiv = document.getElementById('feedback-output');
    const rawJsonOutput = document.getElementById('raw-json-output');
    const submitButton = document.getElementById('submitButton');

    form.addEventListener('submit', register); 

    /**
     * ë©´ì ‘ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì—¬ FastAPI ì„œë²„ì— ë¹„ë™ê¸° POST ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
     */
    async function register(e) {
        e.preventDefault();
        
        // ì…ë ¥ í•„ë“œì˜ ë°ì´í„°ë¥¼ ëª¨ì•„ JSON í˜•íƒœë¡œ êµ¬ì„±
        const data = {
            company: document.getElementById('company').value,
            role: document.getElementById('role').value,
            question: document.getElementById('question').value,
            answer: document.getElementById('answer').value
        };

        // UI ìƒíƒœ ì—…ë°ì´íŠ¸: ë¡œë”© ì‹œì‘
        loadingDiv.style.display = 'block';
        feedbackOutputDiv.innerHTML = '';
        rawJsonOutput.textContent = 'ë°ì´í„° ìš”ì²­ ë° ì„œë²„ ì‘ë‹µ ëŒ€ê¸° ì¤‘...';
        submitButton.disabled = true;
        submitButton.textContent = 'ì²˜ë¦¬ ì¤‘...';

        try {
            // ğŸ’¡ í•µì‹¬ ìš”êµ¬ ì‚¬í•­: fetch í•¨ìˆ˜ë¥¼ í¬í•¨í•œ í†µì‹  ë¡œì§
            const response = await fetch(SERVER_URL, {
                method: 'POST', // í†µì‹  ë°©ì‹: POST
                headers: {
                    'Content-Type': 'application/json'
                },
                // JSON ë°ì´í„°: ì…ë ¥ í•„ë“œ ë°ì´í„°ë¥¼ JSON ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ ì „ì†¡
                body: JSON.stringify(data) 
            });

            if (!response.ok) {
                let errorDetail = response.statusText;
                try {
                    const errorData = await response.json();
                    errorDetail = errorData.detail || errorDetail;
                } catch {} 
                throw new Error(`API í†µì‹  ì˜¤ë¥˜ (${response.status}): ${errorDetail}`);
            }

            const feedbackJson = await response.json();
            
            // ì„±ê³µì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°›ì€ í›„ ì²˜ë¦¬
            displayFeedback(feedbackJson);
            rawJsonOutput.textContent = JSON.stringify(feedbackJson, null, 2);

        } catch (error) {
            // í†µì‹  ì˜¤ë¥˜ ë°œìƒ ì‹œ ì‚¬ìš©ìì—ê²Œ ë©”ì‹œì§€ í‘œì‹œ
            console.error('API í˜¸ì¶œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
            
            feedbackOutputDiv.innerHTML = `
                <div class="feedback-item error">
                    <strong>âŒ í†µì‹  ì˜¤ë¥˜!</strong>
                    <p>${error.message}</p>
                    <p>FastAPI ì„œë²„(main.py)ê°€ ì‹¤í–‰ ì¤‘ì´ê³ , í„°ë¯¸ë„ì—ì„œ API Key ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.</p>
                </div>`;
            rawJsonOutput.textContent = 'í†µì‹  ì‹¤íŒ¨ ë˜ëŠ” ì„œë²„ ì˜¤ë¥˜.';
            
        } finally {
            // UI ìƒíƒœ ì—…ë°ì´íŠ¸: ë¡œë”© ì¢…ë£Œ ë° ë²„íŠ¼ í™œì„±í™”
            loadingDiv.style.display = 'none';
            submitButton.disabled = false;
            submitButton.textContent = 'ğŸ“ˆ ë¶„ì„ ìš”ì²­ ë° í”¼ë“œë°± ìƒì„±';
        }
    }

    /**
     * AI ì‘ë‹µ JSONì„ ì „ë¬¸ì ì¸ HTML ë³´ê³ ì„œ í˜•ì‹ìœ¼ë¡œ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
     */
    function displayFeedback(data) {
        let htmlContent = '';
        
        // ë°±ì—”ë“œì—ì„œ ì•½ì†í•œ JSON í‚¤ë¥¼ ì „ë¬¸ì ì¸ ì œëª©ìœ¼ë¡œ ë§¤í•‘
        const displayKeys = {
            'ìš”ì•½': 'âœ… í•µì‹¬ ë¶„ì„ ìš”ì•½', 
            'ì ìˆ˜': 'â­ ìµœì¢… í‰ê°€ ì ìˆ˜', 
            'í”¼ë“œë°±': 'ğŸ’¡ ìƒì„¸ í”¼ë“œë°± ë° ê°œì„  ë°©ì•ˆ', 
            'ì¶”ê°€_ì§ˆë¬¸': 'â“ í›„ì† ì¸í„°ë·° ì§ˆë¬¸'
        };
        
        for (const key in displayKeys) {
            if (data[key] !== undefined) {
                const title = displayKeys[key];
                const content = data[key];
                
                let contentHtml;
                if (key === 'ì ìˆ˜') {
                    contentHtml = `<span class="score">${content} / 10ì </span>`;
                } else {
                    // ì¤„ë°”ê¿ˆ ë¬¸ì(\n)ë¥¼ <br> íƒœê·¸ë¡œ ë³€í™˜í•˜ì—¬ ë³´ê³ ì„œ ê°€ë…ì„± í™•ë³´
                    contentHtml = content.replace(/\n/g, '<br>');
                }

                htmlContent += `
                    <div class="feedback-item">
                        <strong>${title}</strong>
                        ${contentHtml}
                    </div>
                `;
            }
        }

        feedbackOutputDiv.innerHTML = htmlContent;
    }
</script>

</body>

</html>

