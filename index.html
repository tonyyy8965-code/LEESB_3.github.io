<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ë©´ì ‘ ë„ìš°ë¯¸ - ì „ë¬¸ ì›¹ ì„œë¹„ìŠ¤</title>
    <style>
        /* CSS: ì „ë¬¸ì ì´ê³  ê¹”ë”í•œ í™”ì´íŠ¸í†¤ ë””ìì¸ */
        :root {
            --primary-color: #007bff; /* íŒŒë€ìƒ‰ ê³„ì—´ ê°•ì¡° */
            --background-light: #ffffff;
            --text-dark: #333333;
            --border-light: #e0e0e0;
            --shadow-subtle: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f6;
            color: var(--text-dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 30px auto;
            padding: 25px;
            background: var(--background-light);
            border-radius: 12px;
            box-shadow: var(--shadow-subtle);
        }

        header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--primary-color);
            margin-bottom: 25px;
        }

        header h1 {
            color: var(--primary-color);
            margin: 0;
            font-size: 2em;
        }

        /* ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ */
        .input-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-dark);
        }

        input[type="text"],
        textarea {
            padding: 12px;
            border: 1px solid var(--border-light);
            border-radius: 6px;
            font-size: 1rem;
            width: 100%;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 150px;
        }

        .full-width {
            grid-column: span 2; /* ìê¸°ì†Œê°œì„œ ê´€ë ¨ í•­ëª© ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        button {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
        }

        button:hover {
            background-color: #0056b3;
        }

        button:active {
            transform: translateY(1px);
        }

        /* ê²°ê³¼ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        .result-section {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px dashed var(--border-light);
        }

        .result-section h2 {
            color: var(--primary-color);
            border-left: 5px solid var(--primary-color);
            padding-left: 10px;
            margin-bottom: 20px;
        }

        .result-box {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid var(--border-light);
            white-space: pre-wrap; /* ì¤„ë°”ê¿ˆ ìœ ì§€ */
            min-height: 50px; /* ìµœì†Œ ë†’ì´ */
            overflow-x: auto;
        }
        
        .loading-message {
            text-align: center;
            font-size: 1.1em;
            color: #ffc107; /* ì£¼í™©ìƒ‰ ê³„ì—´ ë¡œë”© ë©”ì‹œì§€ */
            font-weight: 600;
            margin-top: 15px;
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        }

        .error-message {
            text-align: center;
            font-size: 1.1em;
            color: #dc3545; /* ë¹¨ê°„ìƒ‰ ê³„ì—´ ì˜¤ë¥˜ ë©”ì‹œì§€ */
            font-weight: 600;
            margin-top: 15px;
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒŸ AI ê¸°ë°˜ ë©´ì ‘ ì§ˆë¬¸ ì˜ˆì¸¡ ì‹œìŠ¤í…œ</h1>
            <p>ì§€ì› ì •ë³´ë¥¼ ì…ë ¥í•˜ì‹œë©´, AIê°€ ì˜ˆìƒ ì§ˆë¬¸ê³¼ ëª¨ë²” ë‹µë³€ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>
        </header>

        <section class="input-section">
            <div class="input-group">
                <label for="company">ì§€ì› íšŒì‚¬ëª…</label>
                <input type="text" id="company" placeholder="ì˜ˆ: Google Korea" required>
            </div>
            <div class="input-group">
                <label for="jobTitle">ì§€ì› ì§ë¬´</label>
                <input type="text" id="jobTitle" placeholder="ì˜ˆ: ë°±ì—”ë“œ ê°œë°œì" required>
            </div>
            <div class="input-group full-width">
                <label for="question">ìê¸°ì†Œê°œì„œ ë¬¸í•­</label>
                <textarea id="question" placeholder="ì˜ˆ: ì§€ì›í•œ ì§ë¬´ì— í•„ìš”í•œ ì—­ëŸ‰ì„ ê°–ì¶”ê¸° ìœ„í•´ ë…¸ë ¥í•œ ê²½í—˜ì„ ì„œìˆ í•´ ì£¼ì‹­ì‹œì˜¤." required></textarea>
            </div>
            <div class="input-group full-width">
                <label for="answer">ë‚˜ì˜ ë‹µë³€ ë‚´ìš©</label>
                <textarea id="answer" placeholder="ì—¬ê¸°ì— ìê¸°ì†Œê°œì„œ ë‹µë³€ ë‚´ìš©ì„ ìƒì„¸íˆ ì…ë ¥í•˜ì„¸ìš”." required></textarea>
            </div>
        </section>
        
        <button id="generateBtn" onclick="register()">
            ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸ & ëª¨ë²” ë‹µë³€ ìƒì„± ìš”ì²­
        </button>

        <p class="loading-message" id="loadingMessage">
            ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”... AIê°€ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤.
        </p>
        
        <p class="error-message" id="errorMessage">
            API í†µì‹  ì˜¤ë¥˜ ë°œìƒ. (í˜„ì¬ SERVER_URLì´ ë¹„ì–´ìˆì–´ ì˜ˆìƒë˜ëŠ” ì˜¤ë¥˜ì…ë‹ˆë‹¤.)
        </p>

        <section class="result-section">
            <h2>ì˜ˆìƒ ì§ˆë¬¸</h2>
            <div class="result-box" id="expectedQuestions">
                ìƒì„±ëœ ì˜ˆìƒ ì§ˆë¬¸ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
            </div>

            <h2>ëª¨ë²” ë‹µë³€</h2>
            <div class="result-box" id="modelAnswer">
                ìƒì„±ëœ ëª¨ë²” ë‹µë³€ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
            </div>
        </section>
    </div>

    <script>
        // í•µì‹¬ ìš”êµ¬ ì‚¬í•­ 1: API ì„œë²„ì˜ ì£¼ì†Œë¥¼ ë‹´ëŠ” ìƒìˆ˜
        const SERVER_URL = ""; // TODO: ë°±ì—”ë“œ ì„œë²„ ì£¼ì†Œë¡œ ë³€ê²½ í•„ìš”

        /**
         * í•µì‹¬ ìš”êµ¬ ì‚¬í•­ 2: register í•¨ìˆ˜ (API í†µì‹  ë¡œì§ í¬í•¨)
         */
        async function register() {
            // UI ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
            const company = document.getElementById('company').value;
            const jobTitle = document.getElementById('jobTitle').value;
            const question = document.getElementById('question').value;
            const answer = document.getElementById('answer').value;
            const loadingMessage = document.getElementById('loadingMessage');
            const errorMessage = document.getElementById('errorMessage');
            const questionsDiv = document.getElementById('expectedQuestions');
            const answerDiv = document.getElementById('modelAnswer');
            const generateBtn = document.getElementById('generateBtn');

            // ì…ë ¥ê°’ ìœ íš¨ì„± ê²€ì‚¬ (ê°„ë‹¨í•˜ê²Œ í•„ìˆ˜ê°’ ì²´í¬)
            if (!company || !jobTitle || !question || !answer) {
                alert("ëª¨ë“  ì…ë ¥ë€ì„ ì±„ì›Œì£¼ì„¸ìš”.");
                return;
            }

            // ë¡œë”© UI ì„¤ì •
            loadingMessage.style.display = 'block';
            errorMessage.style.display = 'none';
            generateBtn.disabled = true;
            questionsDiv.textContent = 'ì§ˆë¬¸ ìƒì„± ì¤‘...';
            answerDiv.textContent = 'ëª¨ë²” ë‹µë³€ ìƒì„± ì¤‘...';

            // ì„œë²„ì— ì „ì†¡í•  JSON ë°ì´í„° êµ¬ì„±
            const requestData = {
                company: company,
                jobTitle: jobTitle,
                resumeQuestion: question,
                myAnswer: answer
            };

            try {
                // SERVER_URLì´ ë¹„ì–´ìˆì§€ ì•Šì€ ê²½ìš° ì‹¤ì œ í†µì‹  ì‹œë„
                if (SERVER_URL) {
                    const response = await fetch(SERVER_URL, {
                        method: 'POST', // í†µì‹  ë°©ì‹: method: 'POST'
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        // JSON ë°ì´í„°: ì…ë ¥ í•„ë“œì˜ ë°ì´í„°ë¥¼ ëª¨ì•„ JSON í˜•íƒœë¡œ ì„œë²„ì— ì „ì†¡
                        body: JSON.stringify(requestData) 
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();

                    // ê²°ê³¼ ì˜ì—­ì— í‘œì‹œ
                    questionsDiv.textContent = result.expectedQuestions || "ì˜ˆìƒ ì§ˆë¬¸ì„ ë°›ì•„ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                    answerDiv.textContent = result.modelAnswer || "ëª¨ë²” ë‹µë³€ì„ ë°›ì•„ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                    
                } else {
                    // SERVER_URLì´ ë¹„ì–´ìˆëŠ” ê²½ìš° (í˜„ì¬ ìš”êµ¬ ì‚¬í•­)
                    // í†µì‹  ëŒ€ì‹  ê°€ìƒì˜ ë°ì´í„°ë¡œ ì„±ê³µì¸ ì²™ í•¨ (ì‹¤ì œ êµ¬í˜„ ì‹œ ì‚­ì œ)
                    questionsDiv.textContent = `
1. ìê¸°ì†Œê°œì„œì— ì‘ì„±í•˜ì‹  'ë°ì´í„° ë¶„ì„ ì—­ëŸ‰'ì€ í•´ë‹¹ ì§ë¬´ì—ì„œ êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–»ê²Œ í™œìš©ë  ìˆ˜ ìˆì„ê¹Œìš”?
2. ê²½í—˜ì„ í†µí•´ ì•Œ ìˆ˜ ìˆëŠ” ë³¸ì¸ì˜ ê°€ì¥ í° ê°•ì ê³¼ ì•½ì ì€ ë¬´ì—‡ì´ë©°, ì•½ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•œ ë…¸ë ¥ì€?
3. ì €í¬ íšŒì‚¬/ì§ë¬´ì— ì§€ì›í•˜ê²Œ ëœ íŠ¹ë³„í•œ ê³„ê¸°ë‚˜ ë¹„ì „ì´ ìˆìŠµë‹ˆê¹Œ?
                    `.trim();
                    answerDiv.textContent = `
[ëª¨ë²” ë‹µë³€ ê°€ì´ë“œ]
1. ë‹µë³€ì˜ í•µì‹¬ ì—­ëŸ‰ì„ ì§ë¬´ì™€ ì—°ê²°í•˜ëŠ” êµ¬ì²´ì ì¸ ì‚¬ë¡€ë¥¼ ì œì‹œí•˜ì‹­ì‹œì˜¤.
2. STAR ê¸°ë²•(Situation, Task, Action, Result)ì„ í™œìš©í•˜ì—¬ ê²½í—˜ì„ êµ¬ì¡°í™”í•˜ì‹­ì‹œì˜¤.
3. ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì€ ê°„ê²°í•˜ê³  ìì‹ ê° ìˆê²Œ ì „ë‹¬í•˜ë©°, ë§ˆì§€ë§‰ì— í•­ìƒ ì§ˆë¬¸ ê¸°íšŒê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.
                    `.trim();
                    
                    // ì£¼ì˜: í˜„ì¬ëŠ” SERVER_URLì´ ë¹„ì–´ìˆìœ¼ë¯€ë¡œ, í†µì‹ ì€ catch ë¸”ë¡ì—ì„œ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•´ì•¼ í•˜ì§€ë§Œ,
                    // ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•´ ê°€ìƒ ì„±ê³µ ì²˜ë¦¬ í›„, ì ì‹œ í›„ ê°•ì œ ì˜¤ë¥˜ ë°œìƒ (ì‹¤ì œ êµ¬í˜„ ì‹œ ì‚­ì œ)
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    throw new Error("SERVER_URL is empty. Simulating API communication error as requested."); 
                }

            } catch (error) {
                // ì„œë²„ í†µì‹  ì˜¤ë¥˜ ì²˜ë¦¬
                console.error("Fetch Error:", error);
                
                // ì£¼ì˜: í˜„ì¬ëŠ” SERVER_URLì´ ë¹„ì–´ìˆìœ¼ë¯€ë¡œ, í†µì‹ ì€ catch ë¸”ë¡ì—ì„œ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•¨.
                errorMessage.textContent = `API í†µì‹  ì‹¤íŒ¨: ${error.message}. Backend ì—°ê²° ì‹œ ì‹¤ì œ í†µì‹ ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.`;
                errorMessage.style.display = 'block';
                
                // í†µì‹  ì‹¤íŒ¨ ì‹œ ê²°ê³¼ ì˜ì—­ ì´ˆê¸°í™” ë˜ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
                if (SERVER_URL) { // ì‹¤ì œ í†µì‹  ì‹œë„ ì‹œì—ë§Œ ì´ˆê¸°í™”
                    questionsDiv.textContent = 'ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
                    answerDiv.textContent = 'ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
                }
                
            } finally {
                // ë¡œë”© UI í•´ì œ
                loadingMessage.style.display = 'none';
                generateBtn.disabled = false;
            }
        }
    </script>
</body>
</html>
